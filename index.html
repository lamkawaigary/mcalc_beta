<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>mcalc_beta - å»ºç¯‰ææ–™è¨ˆç®—å™¨</title>
    <link rel="manifest" href="./manifest.json">
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <style>
        /* iOS 26 é¢¨æ ¼è¨­è¨ˆ */
        * {
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px 10px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 25px;
            font-weight: 600;
            font-size: 24px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        
        .calculator-selector {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
            font-size: 16px;
        }
        
        input {
            width: 100%;
            padding: 16px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            font-size: 16px;
            color: #2c3e50;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }
        
        input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2), inset 0 2px 4px rgba(0,0,0,0.05);
            background: rgba(255, 255, 255, 0.95);
        }
        
        .calculator-form {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 16px;
            animation: fadeIn 0.4s ease-out;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .calculator-form.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        input::placeholder {
            color: #95a5a6;
        }
        
        button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%);
            color: white;
            border: none;
            border-radius: 14px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 500;
            letter-spacing: 0.3px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        button::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #3ca0e3 0%, #3498db 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }
        
        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(52, 152, 219, 0.3);
        }
        
        button:active::after {
            opacity: 1;
        }
        
        .result {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: 16px;
            display: none;
            animation: slideIn 0.4s ease-out;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-left: 5px solid #4CAF50;
        }
        
        .result.show {
            display: block;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .result h4 {
            margin-top: 0;
            color: #2c3e50;
            font-size: 18px;
        }
        
        .result ul {
            padding-left: 20px;
        }
        
        .result li {
            margin-bottom: 8px;
        }
        
        .material-info {
            margin-top: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 16px;
            border-left: 5px solid #2196F3;
        }
        
        .material-info h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 25px;
        }
        
        .nav-button {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
            padding: 14px 24px;
            text-decoration: none;
            border-radius: 12px;
            display: inline-block;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(155, 89, 182, 0.3);
        }
        
        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(155, 89, 182, 0.4);
        }
        
        /* å½ˆå‡ºè¦–çª—æ¨£å¼ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            border-radius: 20px 20px 0 0;
            padding: 25px;
            z-index: 1001;
            transform: translateY(100%);
            transition: transform 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
            max-height: 70vh;
            overflow-y: auto;
            box-shadow: 0 -5px 30px rgba(0,0,0,0.2);
        }
        
        .modal.active {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #7f8c8d;
            padding: 5px;
        }
        
        .option-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .option-item {
            padding: 16px;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }
        
        .option-item:hover, .option-item.selected {
            background: #e3f2fd;
            border-color: #3498db;
            transform: translateX(5px);
        }
        
        .option-item.selected {
            border-width: 2px;
            background: #d6eaf8;
        }
        
        .option-icon {
            margin-right: 12px;
            font-size: 20px;
        }
        
        .option-text {
            flex-grow: 1;
        }
        
        .swipe-indicator {
            text-align: center;
            color: #95a5a6;
            font-size: 12px;
            margin-top: 10px;
        }
        
        /* iPhone 15 å°ˆæ¥­è¨­è¨ˆ */
        @media screen and (max-width: 400px) {
            .container {
                margin: 0 10px;
                padding: 20px 15px;
                border-radius: 24px;
            }
            
            h1 {
                font-size: 22px;
                margin-bottom: 20px;
            }
            
            input, button {
                padding: 16px;
                border-radius: 14px;
            }
            
            button {
                padding: 18px;
                font-size: 17px;
            }
            
            .modal {
                padding: 20px 15px;
            }
        }
        
        /* iOS æ»‘å‹•æ•ˆæœ */
        .ios-slide-up {
            animation: iosSlideUp 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        
        @keyframes iosSlideUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* å‹•æ…‹äº’å‹•æ•ˆæœ */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(52, 152, 219, 0); }
            100% { box-shadow: 0 0 0 0 rgba(52, 152, 219, 0); }
        }
        
        /* æ¨™é¡Œå‹•ç•« */
        .title-animated {
            animation: titleFloat 3s ease-in-out infinite;
        }
        
        @keyframes titleFloat {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
    </style>
</head>
<body>
    <div class="container ios-slide-up">
        <h1 class="title-animated">ğŸ—ï¸ å»ºç¯‰ææ–™ç”¨é‡è¨ˆç®—å™¨</h1>
        
        <div class="calculator-selector">
            <label for="calcType">é¸æ“‡è¨ˆç®—é¡å‹:</label>
            <button type="button" id="calcTypeBtn" class="pulse" onclick="openCalculatorSelector()">
                <span id="calcTypeLabel">-- é¸æ“‡è¨ˆç®—å™¨ --</span>
            </button>
        </div>
        
        <!-- è¨ˆç®—å™¨é¡å‹é¸æ“‡å½ˆå‡ºè¦–çª— -->
        <div id="calculatorModal" class="modal-overlay">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">é¸æ“‡è¨ˆç®—å™¨é¡å‹</div>
                    <button class="close-modal" onclick="closeModal('calculatorModal')">&times;</button>
                </div>
                <ul class="option-list">
                    <li class="option-item" onclick="selectCalculator('concrete', 'ğŸ—ï¸ æ··å‡åœŸç”¨é‡è¨ˆç®—')">
                        <span class="option-icon">ğŸ—ï¸</span>
                        <span class="option-text">æ··å‡åœŸç”¨é‡è¨ˆç®—</span>
                    </li>
                    <li class="option-item" onclick="selectCalculator('brick', 'ğŸ§± ç£šå¡Šç”¨é‡è¨ˆç®—')">
                        <span class="option-icon">ğŸ§±</span>
                        <span class="option-text">ç£šå¡Šç”¨é‡è¨ˆç®—</span>
                    </li>
                    <li class="option-item" onclick="selectCalculator('tiles', 'ğŸª¨ ç“·ç£šç”¨é‡è¨ˆç®—')">
                        <span class="option-icon">ğŸª¨</span>
                        <span class="option-text">ç“·ç£šç”¨é‡è¨ˆç®—</span>
                    </li>
                    <li class="option-item" onclick="selectCalculator('paint', 'æ¼† æ²¹æ¼†ç”¨é‡è¨ˆç®—')">
                        <span class="option-icon">æ¼†</span>
                        <span class="option-text">æ²¹æ¼†ç”¨é‡è¨ˆç®—</span>
                    </li>
                    <li class="option-item" onclick="selectCalculator('flooring', 'ğŸªµ åœ°æ¿ææ–™ç”¨é‡è¨ˆç®—')">
                        <span class="option-icon">ğŸªµ</span>
                        <span class="option-text">åœ°æ¿ææ–™ç”¨é‡è¨ˆç®—</span>
                    </li>
                    <li class="option-item" onclick="selectCalculator('sand_cement', 'ğŸ—ï¸ æ²™æ°´æ³¥ç”¨é‡è¨ˆç®—')">
                        <span class="option-icon">ğŸ—ï¸</span>
                        <span class="option-text">æ²™æ°´æ³¥ç”¨é‡è¨ˆç®—</span>
                    </li>
                    <li class="option-item" onclick="selectCalculator('rebar', 'âš™ï¸ é‹¼ç­‹ç”¨é‡è¨ˆç®—')">
                        <span class="option-icon">âš™ï¸</span>
                        <span class="option-text">é‹¼ç­‹ç”¨é‡è¨ˆç®—</span>
                    </li>
                    <li class="option-item" onclick="selectCalculator('wood', 'ğŸªµ æœ¨æç”¨é‡è¨ˆç®—')">
                        <span class="option-icon">ğŸªµ</span>
                        <span class="option-text">æœ¨æç”¨é‡è¨ˆç®—</span>
                    </li>
                </ul>
                <div class="swipe-indicator">ğŸ‘† æ»‘å‹•æŸ¥çœ‹æ›´å¤šé¸é …</div>
            </div>
        </div>
        
        <!-- æ··å‡åœŸè¨ˆç®—å™¨ -->
        <div id="concreteForm" class="calculator-form">
            <h3>ğŸ—ï¸ æ··å‡åœŸç”¨é‡è¨ˆç®—</h3>
            <div class="form-group">
                <label for="concreteLength">é•·åº¦ (ç±³):</label>
                <input type="number" id="concreteLength" step="0.01" min="0" placeholder="ä¾‹å¦‚: 5.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="concreteWidth">å¯¬åº¦ (ç±³):</label>
                <input type="number" id="concreteWidth" step="0.01" min="0" placeholder="ä¾‹å¦‚: 3.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="concreteHeight">é«˜åº¦/åšåº¦ (ç±³):</label>
                <input type="number" id="concreteHeight" step="0.01" min="0" placeholder="ä¾‹å¦‚: 0.2" class="pulse">
            </div>
            <button onclick="calculateConcrete()">ğŸ”¢ è¨ˆç®—æ··å‡åœŸç”¨é‡</button>
            
            <div id="concreteResult" class="result"></div>
        </div>
        
        <!-- ç£šå¡Šè¨ˆç®—å™¨ -->
        <div id="brickForm" class="calculator-form">
            <h3>ğŸ§± ç£šå¡Šç”¨é‡è¨ˆç®—</h3>
            <div class="form-group">
                <label for="brickWallArea">ç‰†å£é¢ç© (å¹³æ–¹ç±³):</label>
                <input type="number" id="brickWallArea" step="0.01" min="0" placeholder="ä¾‹å¦‚: 10.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="brickType">ç£šå¡Šé¡å‹:</label>
                <button type="button" id="brickTypeBtn" class="pulse" onclick="openBrickTypeSelector()">
                    <span id="brickTypeLabel">é¸æ“‡ç£šå¡Šé¡å‹</span>
                </button>
            </div>
            <button onclick="calculateBrick()">ğŸ§± è¨ˆç®—ç£šå¡Šç”¨é‡</button>
            
            <div id="brickResult" class="result"></div>
        </div>
        
        <!-- ç“·ç£šè¨ˆç®—å™¨ -->
        <div id="tilesForm" class="calculator-form">
            <h3>ğŸª¨ ç“·ç£šç”¨é‡è¨ˆç®—</h3>
            <div class="form-group">
                <label for="tilesArea">é‹ªè¨­é¢ç© (å¹³æ–¹ç±³):</label>
                <input type="number" id="tilesArea" step="0.01" min="0" placeholder="ä¾‹å¦‚: 12.5" class="pulse">
            </div>
            <div class="form-group">
                <label for="tileLength">ç“·ç£šé•·åº¦ (å˜ç±³):</label>
                <input type="number" id="tileLength" step="0.1" min="0" placeholder="ä¾‹å¦‚: 30" class="pulse">
            </div>
            <div class="form-group">
                <label for="tileWidth">ç“·ç£šå¯¬åº¦ (å˜ç±³):</label>
                <input type="number" id="tileWidth" step="0.1" min="0" placeholder="ä¾‹å¦‚: 30" class="pulse">
            </div>
            <div class="form-group">
                <label for="wastagePercent">æè€—ç‡ (%):</label>
                <input type="number" id="wastagePercent" value="5" min="0" max="20" class="pulse">
            </div>
            <button onclick="calculateTiles()">ğŸª¨ è¨ˆç®—ç“·ç£šç”¨é‡</button>
            
            <div id="tilesResult" class="result"></div>
        </div>
        
        <!-- æ²¹æ¼†è¨ˆç®—å™¨ -->
        <div id="paintForm" class="calculator-form">
            <h3>æ¼† æ²¹æ¼†ç”¨é‡è¨ˆç®—</h3>
            <div class="form-group">
                <label for="paintArea">å¡—åˆ·é¢ç© (å¹³æ–¹ç±³):</label>
                <input type="number" id="paintArea" step="0.01" min="0" placeholder="ä¾‹å¦‚: 50.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="paintLayers">å¡—åˆ·å±¤æ•¸:</label>
                <input type="number" id="paintLayers" value="2" min="1" max="5" class="pulse">
            </div>
            <div class="form-group">
                <label for="paintCoverage">æ¯å‡æ²¹æ¼†è¦†è“‹é¢ç© (å¹³æ–¹ç±³/å‡):</label>
                <input type="number" id="paintCoverage" value="10" step="0.1" min="1" class="pulse">
            </div>
            <button onclick="calculatePaint()">æ¼† è¨ˆç®—æ²¹æ¼†ç”¨é‡</button>
            
            <div id="paintResult" class="result"></div>
        </div>
        
        <!-- åœ°æ¿ææ–™è¨ˆç®—å™¨ -->
        <div id="flooringForm" class="calculator-form">
            <h3>ğŸªµ åœ°æ¿ææ–™ç”¨é‡è¨ˆç®—</h3>
            <div class="form-group">
                <label for="flooringArea">é‹ªè¨­é¢ç© (å¹³æ–¹ç±³):</label>
                <input type="number" id="flooringArea" step="0.01" min="0" placeholder="ä¾‹å¦‚: 20.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="flooringType">åœ°æ¿é¡å‹:</label>
                <button type="button" id="flooringTypeBtn" class="pulse" onclick="openFlooringTypeSelector()">
                    <span id="flooringTypeLabel">é¸æ“‡åœ°æ¿é¡å‹</span>
                </button>
            </div>
            <div class="form-group">
                <label for="flooringWastage">æè€—ç‡ (%):</label>
                <input type="number" id="flooringWastage" value="7" min="0" max="20" class="pulse">
            </div>
            <button onclick="calculateFlooring()">ğŸªµ è¨ˆç®—åœ°æ¿ç”¨é‡</button>
            
            <div id="flooringResult" class="result"></div>
        </div>
        
        <!-- æ²™æ°´æ³¥è¨ˆç®—å™¨ -->
        <div id="sandCementForm" class="calculator-form">
            <h3>ğŸ—ï¸ æ²™æ°´æ³¥ç”¨é‡è¨ˆç®—</h3>
            <div class="form-group">
                <label for="sandCementVolume">æ‰€éœ€ç ‚æ¼¿é«”ç© (ç«‹æ–¹ç±³):</label>
                <input type="number" id="sandCementVolume" step="0.01" min="0" placeholder="ä¾‹å¦‚: 1.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="mixRatio">æ··åˆæ¯”ä¾‹ (æ°´æ³¥:æ²™):</label>
                <button type="button" id="mixRatioBtn" class="pulse" onclick="openMixRatioSelector()">
                    <span id="mixRatioLabel">é¸æ“‡æ··åˆæ¯”ä¾‹</span>
                </button>
            </div>
            <button onclick="calculateSandCement()">ğŸ—ï¸ è¨ˆç®—æ²™æ°´æ³¥ç”¨é‡</button>
            
            <div id="sandCementResult" class="result"></div>
        </div>
        
        <!-- é‹¼ç­‹è¨ˆç®—å™¨ -->
        <div id="rebarForm" class="calculator-form">
            <h3>âš™ï¸ é‹¼ç­‹ç”¨é‡è¨ˆç®—</h3>
            <div class="form-group">
                <label for="rebarLength">æ··å‡åœŸæ§‹ä»¶é•·åº¦ (ç±³):</label>
                <input type="number" id="rebarLength" step="0.01" min="0" placeholder="ä¾‹å¦‚: 5.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="rebarWidth">æ··å‡åœŸæ§‹ä»¶å¯¬åº¦ (ç±³):</label>
                <input type="number" id="rebarWidth" step="0.01" min="0" placeholder="ä¾‹å¦‚: 3.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="rebarHeight">æ··å‡åœŸæ§‹ä»¶é«˜åº¦ (ç±³):</label>
                <input type="number" id="rebarHeight" step="0.01" min="0" placeholder="ä¾‹å¦‚: 0.4" class="pulse">
            </div>
            <div class="form-group">
                <label for="rebarSpacing">é‹¼ç­‹é–“è· (æ¯«ç±³):</label>
                <input type="number" id="rebarSpacing" value="150" min="50" max="500" class="pulse">
            </div>
            <div class="form-group">
                <label for="rebarDiameter">é‹¼ç­‹ç›´å¾‘ (æ¯«ç±³):</label>
                <input type="number" id="rebarDiameter" value="12" min="6" max="50" class="pulse">
            </div>
            <button onclick="calculateRebar()">âš™ï¸ è¨ˆç®—é‹¼ç­‹ç”¨é‡</button>
            
            <div id="rebarResult" class="result"></div>
        </div>
        
        <!-- æœ¨æè¨ˆç®—å™¨ -->
        <div id="woodForm" class="calculator-form">
            <h3>ğŸªµ æœ¨æç”¨é‡è¨ˆç®—</h3>
            <div class="form-group">
                <label for="woodArea">æ‰€éœ€é‹ªè¨­é¢ç© (å¹³æ–¹ç±³):</label>
                <input type="number" id="woodArea" step="0.01" min="0" placeholder="ä¾‹å¦‚: 15.0" class="pulse">
            </div>
            <div class="form-group">
                <label for="woodPlankWidth">æœ¨æ¿å¯¬åº¦ (æ¯«ç±³):</label>
                <input type="number" id="woodPlankWidth" value="120" min="50" max="300" class="pulse">
            </div>
            <div class="form-group">
                <label for="woodPlankThickness">æœ¨æ¿åšåº¦ (æ¯«ç±³):</label>
                <input type="number" id="woodPlankThickness" value="18" min="10" max="100" class="pulse">
            </div>
            <div class="form-group">
                <label for="woodWastage">æè€—ç‡ (%):</label>
                <input type="number" id="woodWastage" value="10" min="0" max="30" class="pulse">
            </div>
            <button onclick="calculateWood()">ğŸªµ è¨ˆç®—æœ¨æç”¨é‡</button>
            
            <div id="woodResult" class="result"></div>
        </div>
        
        <!-- ç£šå¡Šé¡å‹é¸æ“‡å½ˆå‡ºè¦–çª— -->
        <div id="brickTypeModal" class="modal-overlay">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">é¸æ“‡ç£šå¡Šé¡å‹</div>
                    <button class="close-modal" onclick="closeModal('brickTypeModal')">&times;</button>
                </div>
                <ul class="option-list">
                    <li class="option-item" onclick="selectBrickType('standard', 'æ¨™æº–ç£š (230Ã—110Ã—76mm)')">
                        <span class="option-icon">ğŸ§±</span>
                        <span class="option-text">æ¨™æº–ç£š (230Ã—110Ã—76mm)</span>
                    </li>
                    <li class="option-item" onclick="selectBrickType('hollow', 'ç©ºå¿ƒç£š (230Ã—110Ã—150mm)')">
                        <span class="option-icon">ğŸªŸ</span>
                        <span class="option-text">ç©ºå¿ƒç£š (230Ã—110Ã—150mm)</span>
                    </li>
                    <li class="option-item" onclick="selectBrickType('solid', 'å¯¦å¿ƒç£š (230Ã—110Ã—110mm)')">
                        <span class="option-icon">ğŸŸ«</span>
                        <span class="option-text">å¯¦å¿ƒç£š (230Ã—110Ã—110mm)</span>
                    </li>
                </ul>
                <div class="swipe-indicator">ğŸ‘† æ»‘å‹•é¸æ“‡ç£šå¡Šé¡å‹</div>
            </div>
        </div>
        
        <!-- åœ°æ¿é¡å‹é¸æ“‡å½ˆå‡ºè¦–çª— -->
        <div id="flooringTypeModal" class="modal-overlay">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">é¸æ“‡åœ°æ¿é¡å‹</div>
                    <button class="close-modal" onclick="closeModal('flooringTypeModal')">&times;</button>
                </div>
                <ul class="option-list">
                    <li class="option-item" onclick="selectFlooringType('wood', 'æœ¨åœ°æ¿')">
                        <span class="option-icon">ğŸªµ</span>
                        <span class="option-text">æœ¨åœ°æ¿</span>
                    </li>
                    <li class="option-item" onclick="selectFlooringType('laminate', 'è¤‡åˆåœ°æ¿')">
                        <span class="option-icon"> engineered</span>
                        <span class="option-text">è¤‡åˆåœ°æ¿</span>
                    </li>
                    <li class="option-item" onclick="selectFlooringType('vinyl', 'ä¹™çƒ¯åŸºåœ°æ¿')">
                        <span class="option-icon">â¬œ</span>
                        <span class="option-text">ä¹™çƒ¯åŸºåœ°æ¿</span>
                    </li>
                </ul>
                <div class="swipe-indicator">ğŸ‘† æ»‘å‹•é¸æ“‡åœ°æ¿é¡å‹</div>
            </div>
        </div>
        
        <!-- æ··åˆæ¯”ä¾‹é¸æ“‡å½ˆå‡ºè¦–çª— -->
        <div id="mixRatioModal" class="modal-overlay">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">é¸æ“‡æ··åˆæ¯”ä¾‹</div>
                    <button class="close-modal" onclick="closeModal('mixRatioModal')">&times;</button>
                </div>
                <ul class="option-list">
                    <li class="option-item" onclick="selectMixRatio('1:3', '1:3 (æ°´æ³¥:æ²™) - ç Œç£šç”¨')">
                        <span class="option-icon">ğŸ—ï¸</span>
                        <span class="option-text">1:3 (æ°´æ³¥:æ²™) - ç Œç£šç”¨</span>
                    </li>
                    <li class="option-item" onclick="selectMixRatio('1:4', '1:4 (æ°´æ³¥:æ²™) - ä¸€èˆ¬æŠ¹ç°')">
                        <span class="option-icon">ğŸª‘</span>
                        <span class="option-text">1:4 (æ°´æ³¥:æ²™) - ä¸€èˆ¬æŠ¹ç°</span>
                    </li>
                    <li class="option-item" onclick="selectMixRatio('1:5', '1:5 (æ°´æ³¥:æ²™) - è¼•è² è·æŠ¹ç°')">
                        <span class="option-icon">ğŸªŸ</span>
                        <span class="option-text">1:5 (æ°´æ³¥:æ²™) - è¼•è² è·æŠ¹ç°</span>
                    </li>
                    <li class="option-item" onclick="selectMixRatio('1:6', '1:6 (æ°´æ³¥:æ²™) - å…§ç‰†æŠ¹ç°')">
                        <span class="option-icon">ğŸ </span>
                        <span class="option-text">1:6 (æ°´æ³¥:æ²™) - å…§ç‰†æŠ¹ç°</span>
                    </li>
                </ul>
                <div class="swipe-indicator">ğŸ‘† æ»‘å‹•é¸æ“‡æ··åˆæ¯”ä¾‹</div>
            </div>
        </div>
        
        <div class="material-info">
            <h3>ğŸ’¡ ä½¿ç”¨èªªæ˜</h3>
            <ul>
                <li>å¾ä¸‹æ‹‰èœå–®ä¸­é¸æ“‡æ‰€éœ€çš„è¨ˆç®—é¡å‹</li>
                <li>å¡«å…¥ç›¸é—œçš„å°ºå¯¸æˆ–é¢ç©æ•¸æ“š</li>
                <li>é»æ“Šè¨ˆç®—æŒ‰éˆ•ç²å¾—çµæœ</li>
                <li>çµæœå·²è€ƒæ…®å¸¸è¦æè€—å’Œæ–½å·¥éœ€æ±‚</li>
            </ul>
        </div>
        
        <div class="nav-buttons">
            <a href="./main.html" class="nav-button">ğŸ  è¿”å›ä¸»é¸å–®</a>
        </div>
    </div>

    <script>
        // ç•¶å‰é¸ä¸­çš„å€¼
        let currentCalcType = '';
        let currentBrickType = '';
        let currentFlooringType = '';
        let currentMixRatio = '';

        // é¡¯ç¤ºç›¸æ‡‰çš„è¨ˆç®—è¡¨å–®
        function openCalculatorSelector() {
            document.getElementById('calculatorModal').style.display = 'block';
            setTimeout(() => {
                document.getElementById('calculatorModal').classList.add('active');
                document.querySelector('#calculatorModal .modal').classList.add('active');
            }, 10);
        }

        // ç£šå¡Šé¡å‹é¸æ“‡å™¨
        function openBrickTypeSelector() {
            document.getElementById('brickTypeModal').style.display = 'block';
            setTimeout(() => {
                document.getElementById('brickTypeModal').classList.add('active');
                document.querySelector('#brickTypeModal .modal').classList.add('active');
            }, 10);
        }

        // åœ°æ¿é¡å‹é¸æ“‡å™¨
        function openFlooringTypeSelector() {
            document.getElementById('flooringTypeModal').style.display = 'block';
            setTimeout(() => {
                document.getElementById('flooringTypeModal').classList.add('active');
                document.querySelector('#flooringTypeModal .modal').classList.add('active');
            }, 10);
        }

        // æ··åˆæ¯”ä¾‹é¸æ“‡å™¨
        function openMixRatioSelector() {
            document.getElementById('mixRatioModal').style.display = 'block';
            setTimeout(() => {
                document.getElementById('mixRatioModal').classList.add('active');
                document.querySelector('#mixRatioModal .modal').classList.add('active');
            }, 10);
        }

        // é—œé–‰æŒ‡å®šçš„å½ˆå‡ºè¦–çª—
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
            document.querySelector(`#${modalId} .modal`).classList.remove('active');
            
            setTimeout(() => {
                modal.style.display = 'none';
            }, 400);
        }

        // é¸æ“‡è¨ˆç®—å™¨é¡å‹
        function selectCalculator(value, label) {
            currentCalcType = value;
            document.getElementById('calcTypeLabel').textContent = label;
            
            // éš±è—æ‰€æœ‰è¡¨å–®
            const forms = document.querySelectorAll('.calculator-form');
            forms.forEach(form => form.classList.remove('active'));
            
            // é‡ç½®æ‰€æœ‰çµæœé¢æ¿
            const results = document.querySelectorAll('.result');
            results.forEach(result => {
                result.classList.remove('show');
                result.innerHTML = '';
            });
            
            // é¡¯ç¤ºé¸ä¸­çš„è¡¨å–®
            if (value) {
                document.getElementById(value + 'Form').classList.add('active');
            }
            
            closeModal('calculatorModal');
        }

        // é¸æ“‡ç£šå¡Šé¡å‹
        function selectBrickType(value, label) {
            currentBrickType = value;
            document.getElementById('brickTypeLabel').textContent = label;
            closeModal('brickTypeModal');
        }

        // é¸æ“‡åœ°æ¿é¡å‹
        function selectFlooringType(value, label) {
            currentFlooringType = value;
            document.getElementById('flooringTypeLabel').textContent = label;
            closeModal('flooringTypeModal');
        }

        // é¸æ“‡æ··åˆæ¯”ä¾‹
        function selectMixRatio(value, label) {
            currentMixRatio = value;
            document.getElementById('mixRatioLabel').textContent = label;
            closeModal('mixRatioModal');
        }

        // æ··å‡åœŸç”¨é‡è¨ˆç®—
        function calculateConcrete() {
            const length = parseFloat(document.getElementById('concreteLength').value);
            const width = parseFloat(document.getElementById('concreteWidth').value);
            const height = parseFloat(document.getElementById('concreteHeight').value);
            
            if (isNaN(length) || isNaN(width) || isNaN(height) || length <= 0 || width <= 0 || height <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„å°ºå¯¸å€¼');
                return;
            }
            
            const volume = length * width * height;
            const cement = volume * 320; // kg (ç´„æ¯ç«‹æ–¹å…¬å°º320kgæ°´æ³¥)
            const sand = volume * 0.5; // ç«‹æ–¹å…¬å°º
            const gravel = volume * 1.0; // ç«‹æ–¹å…¬å°º
            const water = volume * 180; // å‡
            
            const resultDiv = document.getElementById('concreteResult');
            resultDiv.innerHTML = `
                <h4>ğŸ—ï¸ è¨ˆç®—çµæœ:</h4>
                <p><strong>æ··å‡åœŸé«”ç©:</strong> ${volume.toFixed(2)} ç«‹æ–¹å…¬å°º</p>
                <p><strong>æ‰€éœ€ææ–™:</strong></p>
                <ul>
                    <li>ğŸ—ï¸ æ°´æ³¥: ${cement.toFixed(2)} å…¬æ–¤</li>
                    <li>ğŸª¨ æ²™: ${sand.toFixed(2)} ç«‹æ–¹å…¬å°º</li>
                    <li>â›ï¸ ç¢çŸ³: ${gravel.toFixed(2)} ç«‹æ–¹å…¬å°º</li>
                    <li>ğŸ’§ æ°´: ${water.toFixed(2)} å‡</li>
                </ul>
                <p><small>âš ï¸ æ³¨æ„: ä»¥ä¸Šç‚ºæ¨™æº–C20æ··å‡åœŸé…åˆæ¯”ä¼°ç®—ï¼Œå¯¦éš›ç”¨é‡å¯èƒ½å› è¨­è¨ˆè¦æ±‚æœ‰æ‰€ä¸åŒ</small></p>
            `;
            resultDiv.classList.add('show');
        }

        // ç£šå¡Šç”¨é‡è¨ˆç®—
        function calculateBrick() {
            const area = parseFloat(document.getElementById('brickWallArea').value);
            
            if (isNaN(area) || area <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„é¢ç©å€¼');
                return;
            }
            
            // ä½¿ç”¨å…¨å±€è®Šé‡ currentBrickType
            let bricksPerSqM;
            switch(currentBrickType) {
                case 'standard':
                    bricksPerSqM = 60; // æ¨™æº–ç£šæ¯å¹³æ–¹å…¬å°ºç´„60å¡Š
                    break;
                case 'hollow':
                    bricksPerSqM = 35; // ç©ºå¿ƒç£šæ¯å¹³æ–¹å…¬å°ºç´„35å¡Š
                    break;
                case 'solid':
                    bricksPerSqM = 45; // å¯¦å¿ƒç£šæ¯å¹³æ–¹å…¬å°ºç´„45å¡Š
                    break;
                default:
                    bricksPerSqM = 60;
            }
            
            const bricksNeeded = Math.ceil(area * bricksPerSqM * 1.05); // åŠ 5%æè€—
            
            const resultDiv = document.getElementById('brickResult');
            resultDiv.innerHTML = `
                <h4>ğŸ§± è¨ˆç®—çµæœ:</h4>
                <p><strong>ç‰†å£é¢ç©:</strong> ${area} å¹³æ–¹å…¬å°º</p>
                <p><strong>ç£šå¡Šé¡å‹:</strong> ${document.getElementById('brickTypeLabel').textContent}</p>
                <p><strong>æ‰€éœ€ç£šå¡Šæ•¸é‡:</strong> ${bricksNeeded} å¡Š</p>
                <p><small>âœ… (å·²åŒ…å«5%æè€—åŠæ–½å·¥éœ€æ±‚)</small></p>
            `;
            resultDiv.classList.add('show');
        }

        // ç“·ç£šç”¨é‡è¨ˆç®—
        function calculateTiles() {
            const area = parseFloat(document.getElementById('tilesArea').value);
            const tileLength = parseFloat(document.getElementById('tileLength').value);
            const tileWidth = parseFloat(document.getElementById('tileWidth').value);
            const wastagePercent = parseFloat(document.getElementById('wastagePercent').value) || 5;
            
            if (isNaN(area) || area <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„é¢ç©å€¼');
                return;
            }
            
            if (isNaN(tileLength) || isNaN(tileWidth) || tileLength <= 0 || tileWidth <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„ç“·ç£šå°ºå¯¸');
                return;
            }
            
            // è½‰æ›ç‚ºç±³
            const lengthInMeters = tileLength / 100;
            const widthInMeters = tileWidth / 100;
            
            const tileArea = lengthInMeters * widthInMeters;
            const tilesNeeded = Math.ceil((area / tileArea) * (1 + wastagePercent / 100));
            
            const resultDiv = document.getElementById('tilesResult');
            resultDiv.innerHTML = `
                <h4>ğŸª¨ è¨ˆç®—çµæœ:</h4>
                <p><strong>é‹ªè¨­é¢ç©:</strong> ${area} å¹³æ–¹å…¬å°º</p>
                <p><strong>ç“·ç£šå°ºå¯¸:</strong> ${tileLength}cm Ã— ${tileWidth}cm</p>
                <p><strong>ç“·ç£šé¢ç©:</strong> ${tileArea.toFixed(4)} å¹³æ–¹å…¬å°º</p>
                <p><strong>æ‰€éœ€ç“·ç£šæ•¸é‡:</strong> ${tilesNeeded} å¡Š</p>
                <p><small>âœ… (å·²åŒ…å«${wastagePercent}%æè€—åŠåˆ‡å‰²éœ€æ±‚)</small></p>
            `;
            resultDiv.classList.add('show');
        }

        // æ²¹æ¼†ç”¨é‡è¨ˆç®—
        function calculatePaint() {
            const area = parseFloat(document.getElementById('paintArea').value);
            const layers = parseInt(document.getElementById('paintLayers').value) || 2;
            const coverage = parseFloat(document.getElementById('paintCoverage').value) || 10;
            
            if (isNaN(area) || area <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„é¢ç©å€¼');
                return;
            }
            
            const paintNeeded = (area * layers) / coverage;
            
            const resultDiv = document.getElementById('paintResult');
            resultDiv.innerHTML = `
                <h4>æ¼† è¨ˆç®—çµæœ:</h4>
                <p><strong>å¡—åˆ·é¢ç©:</strong> ${area} å¹³æ–¹å…¬å°º</p>
                <p><strong>å¡—åˆ·å±¤æ•¸:</strong> ${layers} å±¤</p>
                <p><strong>æ¯å‡è¦†è“‹é¢ç©:</strong> ${coverage} å¹³æ–¹å…¬å°º</p>
                <p><strong>æ‰€éœ€æ²¹æ¼†:</strong> ${paintNeeded.toFixed(2)} å‡</p>
                <p><small>ğŸ’¡ å»ºè­°å¤šé ç•™10-15%ä»¥ç¢ºä¿å……è¶³</small></p>
            `;
            resultDiv.classList.add('show');
        }

        // åœ°æ¿ææ–™ç”¨é‡è¨ˆç®—
        function calculateFlooring() {
            const area = parseFloat(document.getElementById('flooringArea').value);
            
            if (isNaN(area) || area <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„é¢ç©å€¼');
                return;
            }
            
            const wastage = parseFloat(document.getElementById('flooringWastage').value) || 7;
            const totalArea = area * (1 + wastage / 100);
            
            const resultDiv = document.getElementById('flooringResult');
            resultDiv.innerHTML = `
                <h4>ğŸªµ è¨ˆç®—çµæœ:</h4>
                <p><strong>é‹ªè¨­é¢ç©:</strong> ${area} å¹³æ–¹å…¬å°º</p>
                <p><strong>åœ°æ¿é¡å‹:</strong> ${document.getElementById('flooringTypeLabel').textContent}</p>
                <p><strong>æè€—ç‡:</strong> ${wastage}%</p>
                <p><strong>æ‰€éœ€ææ–™é¢ç©:</strong> ${totalArea.toFixed(2)} å¹³æ–¹å…¬å°º</p>
                <p><small>âœ… (å·²åŒ…å«${wastage}%æè€—åŠè£åˆ‡éœ€æ±‚)</small></p>
            `;
            resultDiv.classList.add('show');
        }

        // æ²™æ°´æ³¥ç”¨é‡è¨ˆç®—
        function calculateSandCement() {
            const volume = parseFloat(document.getElementById('sandCementVolume').value);
            
            if (isNaN(volume) || volume <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„é«”ç©å€¼');
                return;
            }
            
            // ä½¿ç”¨å…¨å±€è®Šé‡ currentMixRatio
            const ratioParts = currentMixRatio.split(':');
            const cementRatio = parseFloat(ratioParts[0]);
            const sandRatio = parseFloat(ratioParts[1]);
            const totalRatio = cementRatio + sandRatio;
            
            const cementVolume = (cementRatio / totalRatio) * volume;
            const sandVolume = (sandRatio / totalRatio) * volume;
            
            // å‡è¨­æ°´æ³¥å¯†åº¦ç‚º1440 kg/mÂ³
            const cementWeight = cementVolume * 1440;
            const cementBags = Math.ceil(cementWeight / 50); // 50kgä¸€åŒ…
            
            const resultDiv = document.getElementById('sandCementResult');
            resultDiv.innerHTML = `
                <h4>ğŸ—ï¸ è¨ˆç®—çµæœ:</h4>
                <p><strong>ç ‚æ¼¿é«”ç©:</strong> ${volume} ç«‹æ–¹å…¬å°º</p>
                <p><strong>æ··åˆæ¯”ä¾‹:</strong> ${currentMixRatio} (${document.getElementById('mixRatioLabel').textContent})</p>
                <p><strong>æ‰€éœ€ææ–™:</strong></p>
                <ul>
                    <li>ğŸ—ï¸ æ°´æ³¥: ${cementWeight.toFixed(2)} å…¬æ–¤ (${cementBags} åŒ…)</li>
                    <li>ğŸª¨ æ²™: ${sandVolume.toFixed(2)} ç«‹æ–¹å…¬å°º</li>
                </ul>
                <p><small>âš ï¸ æ³¨æ„: ä»¥ä¸Šç‚ºä¼°ç®—å€¼ï¼Œå¯¦éš›ç”¨é‡å¯èƒ½å› æ–½å·¥æ¢ä»¶æœ‰æ‰€å·®ç•°</small></p>
            `;
            resultDiv.classList.add('show');
        }

        // é‹¼ç­‹ç”¨é‡è¨ˆç®—
        function calculateRebar() {
            const length = parseFloat(document.getElementById('rebarLength').value);
            const width = parseFloat(document.getElementById('rebarWidth').value);
            const height = parseFloat(document.getElementById('rebarHeight').value);
            const spacing = parseFloat(document.getElementById('rebarSpacing').value);
            const diameter = parseFloat(document.getElementById('rebarDiameter').value);
            
            if (isNaN(length) || isNaN(width) || isNaN(height) || isNaN(spacing) || isNaN(diameter) ||
                length <= 0 || width <= 0 || height <= 0 || spacing <= 0 || diameter <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å€¼');
                return;
            }
            
            // è¨ˆç®—ç¸±å‘å’Œæ©«å‘é‹¼ç­‹æ•¸é‡
            const longitudinalCount = Math.ceil(width / (spacing / 1000)); // è½‰æ›ç‚ºç±³
            const transverseCount = Math.ceil(length / (spacing / 1000));
            
            // è¨ˆç®—ç¸½é•·åº¦
            const longitudinalLength = longitudinalCount * length;
            const transverseLength = transverseCount * width;
            const totalLength = longitudinalLength + transverseLength;
            
            // è¨ˆç®—é‡é‡ (kg/m) = ç›´å¾‘(mm)^2 / 162
            const weightPerMeter = (diameter * diameter) / 162;
            const totalWeight = totalLength * weightPerMeter;
            
            const resultDiv = document.getElementById('rebarResult');
            resultDiv.innerHTML = `
                <h4>âš™ï¸ è¨ˆç®—çµæœ:</h4>
                <p><strong>æ§‹ä»¶å°ºå¯¸:</strong> ${length}m Ã— ${width}m Ã— ${height}m</p>
                <p><strong>é‹¼ç­‹é–“è·:</strong> ${spacing}mm</p>
                <p><strong>é‹¼ç­‹ç›´å¾‘:</strong> ${diameter}mm</p>
                <p><strong>ç¸±å‘é‹¼ç­‹:</strong> ${longitudinalCount} æ ¹ Ã— ${length}m = ${longitudinalLength.toFixed(2)}m</p>
                <p><strong>æ©«å‘é‹¼ç­‹:</strong> ${transverseCount} æ ¹ Ã— ${width}m = ${transverseLength.toFixed(2)}m</p>
                <p><strong>ç¸½é•·åº¦:</strong> ${totalLength.toFixed(2)} ç±³</p>
                <p><strong>ç¸½é‡é‡:</strong> ${totalWeight.toFixed(2)} å…¬æ–¤</p>
                <p><small>âš ï¸ æ³¨æ„: é€™æ˜¯åŸºæœ¬ä¼°ç®—ï¼Œå¯¦éš›ç”¨é‡éœ€è€ƒæ…®æ­æ¥ã€å½é‰¤ç­‰å› ç´ </small></p>
            `;
            resultDiv.classList.add('show');
        }

        // æœ¨æç”¨é‡è¨ˆç®—
        function calculateWood() {
            const area = parseFloat(document.getElementById('woodArea').value);
            const plankWidth = parseFloat(document.getElementById('woodPlankWidth').value);
            const wastage = parseFloat(document.getElementById('woodWastage').value) || 10;
            
            if (isNaN(area) || isNaN(plankWidth) || area <= 0 || plankWidth <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å€¼');
                return;
            }
            
            // è¨ˆç®—æ‰€éœ€æœ¨æ¿é¢ç©ï¼ˆå«æè€—ï¼‰
            const totalArea = area * (1 + wastage / 100);
            
            // è¨ˆç®—æ¯å¡Šæœ¨æ¿çš„é¢ç©ï¼ˆè½‰æ›ç‚ºå¹³æ–¹ç±³ï¼‰
            const plankArea = (plankWidth / 1000) * 2.4; // å‡è¨­æœ¨æ¿é•·åº¦ç‚º2.4ç±³
            
            // è¨ˆç®—æ‰€éœ€æœ¨æ¿æ•¸é‡
            const planksNeeded = Math.ceil(totalArea / plankArea);
            
            // è¨ˆç®—ç¸½é«”ç©
            const thickness = parseFloat(document.getElementById('woodPlankThickness').value) / 1000; // è½‰æ›ç‚ºç±³
            const volume = planksNeeded * plankArea * thickness;
            
            const resultDiv = document.getElementById('woodResult');
            resultDiv.innerHTML = `
                <h4>ğŸªµ è¨ˆç®—çµæœ:</h4>
                <p><strong>æ‰€éœ€é‹ªè¨­é¢ç©:</strong> ${area} å¹³æ–¹å…¬å°º</p>
                <p><strong>æœ¨æ¿å°ºå¯¸:</strong> ${plankWidth}mm å¯¬ Ã— ${thickness * 1000}mm åš Ã— 2400mm é•·</p>
                <p><strong>æè€—ç‡:</strong> ${wastage}%</p>
                <p><strong>æ‰€éœ€æœ¨æ¿æ•¸é‡:</strong> ${planksNeeded} å¡Š</p>
                <p><strong>æœ¨æ¿ç¸½é«”ç©:</strong> ${volume.toFixed(3)} ç«‹æ–¹å…¬å°º</p>
                <p><small>âš ï¸ æ³¨æ„: å‡è¨­æ¨™æº–æœ¨æ¿é•·åº¦ç‚º2.4ç±³ï¼Œå¯¦éš›é•·åº¦å¯èƒ½æœ‰æ‰€ä¸åŒ</small></p>
            `;
            resultDiv.classList.add('show');
        }

        // é»æ“Šå½ˆå‡ºè¦–çª—å¤–çš„å€åŸŸé—œé–‰è¦–çª—
        window.onclick = function(event) {
            if (event.target.classList.contains('modal-overlay')) {
                const modalId = event.target.id;
                closeModal(modalId);
            }
        }

        // PWA Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>